<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>



        let version = [1, 2, 3, [3.1, 3.2, [3.33, 3.34], 5.1, 7.1], 4, 5, 6, 7];
        let $body = document.body;

        let $ul = document.createElement('ul');
        $body.append($ul);

        versionList = function(arr){
            
            console.dir(arr);

            let temp = $ul;
            
            for (let i = 0; i < arr.length; i++){


                if ( Array.isArray(arr[i]) ){
                    

                    let $innerul = document.createElement('ul');
                    $ul.append($innerul);
                    $ul = $innerul;
                    
                    versionList(arr[i]);

                    
                } else {
                    let $li = document.createElement('li');
                    $li.innerText = arr[i];
                    // $ul = temp;
                    $ul.append($li);
                    

                    if (i === 0){
                        console.log(arr.length);
                    }

                    if (i === (arr.length-1) ){
                        $ul = temp;
                        return $ul;
                    }


                    // if (i === arr.length - 1){
                    //     console.log('прыжок назад');
                        
                    // } 
                }
                
            }
        }  

        versionList(version);
        


        
        </script>
    
    
</body>
</html>